<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Polski: Latarnik</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #e3f2fd; /* Jasny b≈Çƒôkit */
            margin: 0;
            padding: 10px;
            text-align: center;
            color: #0d47a1; /* Ciemny granat */
        }
        #container {
            background-color: white;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
            border: 4px solid #1565c0;
        }
        h1 { margin-bottom: 20px; font-size: 26px; }
        
        .btn-big {
            display: block;
            width: 100%;
            padding: 20px;
            margin: 15px 0;
            border: none;
            border-radius: 20px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            color: white;
            box-shadow: 0 5px 0 rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        .btn-big:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-story { background-color: #1565c0; } /* Granat */
        .btn-magic { background-color: #00897b; } /* Morski turkus */
        
        .btn-quiz { background-color: #f9a825; margin-top: 30px; color: #333;} /* ≈ª√≥≈Çty/Z≈Çoty */
        .btn-opt { background-color: #f1f8e9; color: #33691e; font-size: 18px; padding: 15px; box-shadow: 0 4px 0 #dcedc8;}
        
        .hidden { display: none; }
        .emoji { font-size: 35px; }
        .quote { font-style: italic; color: #555; margin-bottom: 10px; }

        /* Quiz Styles */
        .correct { background-color: #66bb6a !important; color: white !important; }
        .wrong { background-color: #ef5350 !important; color: white !important; }
        #feedback { font-weight: bold; min-height: 30px; margin-top: 10px; font-size: 20px;}
    </style>
</head>
<body>

<div id="container">

    <div id="menu">
        <a href="../index.html" style="position:absolute; top:10px; left:10px; text-decoration:none; font-size:30px;">üè†</a>
        <h1>üåä Latarnik i S≈Çowa</h1>
        <p>Pos≈Çuchaj o Skawi≈Ñskim i magicznych sztuczkach pisarza.</p>

        <button class="btn-big btn-story" onclick="playLesson(1)">
            <span class="emoji">üë¥</span> 1. Kim by≈Ç Skawi≈Ñski?
        </button>

        <button class="btn-big btn-story" onclick="playLesson(2)">
            <span class="emoji">üìñ</span> 2. Budowa Opowiadania
        </button>
        
        <button class="btn-big btn-magic" onclick="playLesson(3)">
            <span class="emoji">‚ú®</span> 3. Magia (≈örodki Stylistyczne)
        </button>

        <button class="btn-big btn-quiz" onclick="startQuiz()">
            <span class="emoji">üéì</span> Sprawd≈∫ siƒô
        </button>
    </div>

    <div id="quiz" class="hidden">
        <div class="quote" id="q-quote"></div>
        <h2 id="q-text">Pytanie...</h2>
        <div id="options"></div>
        <div id="feedback"></div>
        <button id="next-btn" class="btn-big btn-quiz hidden" onclick="nextQuestion()">Dalej ‚û°</button>
    </div>

    <div id="end" class="hidden">
        <h1>Koniec! ‚öì</h1>
        <p>Jeste≈õ mistrzyniƒÖ polskiego. Odpoczywaj.</p>
        <button class="btn-big btn-quiz" onclick="location.reload()">Jeszcze raz?</button>
        <br>
        <a href="../index.html" class="btn-big" style="background-color: #1565c0;">Wr√≥ƒá do bazy</a>
    </div>

</div>

<script>
    // --- DANE LEKCJI (AUDIO) ---
    const lessons = {
        1: "Skawi≈Ñski to stary Polak, tu≈Çacz. Walczy≈Ç w wielu wojnach, ale na staro≈õƒá chcia≈Ç spokoju. Zosta≈Ç latarnikiem w Aspinwall, daleko od Polski. By≈Ç sumienny i pracowity. Ale pewnego dnia dosta≈Ç paczkƒô z polskimi ksiƒÖ≈ºkami. ZaczƒÖ≈Ç czytaƒá Pana Tadeusza, zaczyta≈Ç siƒô, zapomnia≈Ç w≈ÇƒÖczyƒá latarniƒô i statek siƒô rozbi≈Ç. Przez tƒôsknotƒô za ojczyznƒÖ straci≈Ç pracƒô i musia≈Ç ruszyƒá w dalszƒÖ tu≈Çaczkƒô.",
        2: "Co musi mieƒá opowiadanie? Po pierwsze: CZAS i MIEJSCE akcji. Tutaj to lata 70-te, wyspa Aspinwall ko≈Ço Panamy. Po drugie: BOHATER, czyli nasz Skawi≈Ñski. Po trzecie: NARRATOR. W Latarniku narrator wie wszystko, ale nie bierze udzia≈Çu w akcji. Mamy te≈º DIALOGI (rozmowy) i MONOLOGI (gdy Skawi≈Ñski m√≥wi do siebie).",
        3: "Teraz trudniejsze. Pisarze u≈ºywajƒÖ magicznych sztuczek. POR√ìWNANIE to co≈õ 'jak' co≈õ. Np. 'twardy jak ska≈Ça'. O≈ªYWIENIE to gdy rzecz robi to co cz≈Çowiek. Np. 'morze ryczy', 'zegar idzie'. APOSTROFA to uroczysty zwrot do kogo≈õ, np. 'Litwo! Ojczyzno moja!'."
    };

    // --- DANE QUIZU ---
    const quizData = [
        {
            q: "Dzie≈Ñ do dnia podobny JAK dwa paciorki w r√≥≈ºa≈Ñcu. Co to jest?",
            quote: '"Dzie≈Ñ do dnia staje siƒô podobny jak dwa paciorki w r√≥≈ºa≈Ñcu..."',
            a: ["Por√≥wnanie (bo jest 'jak')", "Uosobienie", "Pytanie"],
            correct: 0,
            feedback: "Tak! Skoro jest s≈Çowo JAK, to zawsze jest Por√≥wnanie."
        },
        {
            q: "Morze GRA≈ÅO. Czy morze umie graƒá?",
            quote: '"W dole pod jego stopami gra≈Ço morze."',
            a: ["To zwyk≈Çy opis", "O≈ºywienie (nadanie cech ≈ºycia)", "Por√≥wnanie"],
            correct: 1,
            feedback: "Brawo. Morze nie jest ≈ºywe, wiƒôc to O≈ºywienie."
        },
        {
            q: "LITWO! OJCZYZNO MOJA! (Zwrot do kogo≈õ)",
            quote: '"Litwo, ojczyzno moja, ty jeste≈õ jak zdrowie!"',
            a: ["Apostrofa (Zwrot)", "Epitiet", "Narracja"],
            correct: 0,
            feedback: "Tak. Gdy wo≈Çamy do kogo≈õ wielkimi s≈Çowami, to Apostrofa."
        },
        {
            q: "Ba≈Çwany (fale) SKAKA≈ÅY Z W≈öCIEK≈ÅO≈öCIƒÑ.",
            quote: '"Ba≈Çwany skaka≈Çy z w≈õciek≈Ço≈õciƒÖ na urwisko..."',
            a: ["Por√≥wnanie", "O≈ºywienie (Uosobienie)", "Dialog"],
            correct: 1,
            feedback: "Super. Fale nie mogƒÖ byƒá w≈õciek≈Çe. To cecha ludzka."
        },
        {
            q: "Dlaczego Skawi≈Ñski straci≈Ç pracƒô?",
            quote: "Pytanie o tre≈õƒá lektury",
            a: ["Zaspa≈Ç", "Zaczyta≈Ç siƒô w polskiej ksiƒÖ≈ºce", "Upi≈Ç siƒô"],
            correct: 1,
            feedback: "Tak. Czyta≈Ç Pana Tadeusza i zapomnia≈Ç o ca≈Çym ≈õwiecie."
        }
    ];

    // --- LOGIKA ---
    let currentQ = 0;

    function speak(text) {
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'pl-PL';
        u.rate = 0.95; 
        window.speechSynthesis.speak(u);
    }

    function playLesson(num) {
        speak(lessons[num]);
    }

    function startQuiz() {
        document.getElementById('menu').classList.add('hidden');
        document.getElementById('quiz').classList.remove('hidden');
        currentQ = 0;
        loadQuestion();
    }

    function loadQuestion() {
        if (currentQ >= quizData.length) {
            document.getElementById('quiz').classList.add('hidden');
            document.getElementById('end').classList.remove('hidden');
            speak("Koniec lekcji polskiego. Wspaniale ci posz≈Ço.");
            return;
        }

        const data = quizData[currentQ];
        document.getElementById('q-text').innerText = data.q;
        if(data.quote) document.getElementById('q-quote').innerText = data.quote;
        
        document.getElementById('feedback').innerText = "";
        document.getElementById('next-btn').classList.add('hidden');
        
        speak(data.q);

        const optsDiv = document.getElementById('options');
        optsDiv.innerHTML = "";

        data.a.forEach((ans, index) => {
            const btn = document.createElement('button');
            btn.className = 'btn-big btn-opt';
            btn.innerText = ans;
            btn.onclick = () => checkAnswer(index, btn);
            optsDiv.appendChild(btn);
        });
    }

    function checkAnswer(idx, btn) {
        const data = quizData[currentQ];
        const allBtns = document.querySelectorAll('.btn-opt');
        allBtns.forEach(b => b.onclick = null);

        if (idx === data.correct) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = data.feedback;
            speak("Dobrze! " + data.feedback);
        } else {
            btn.classList.add('wrong');
            allBtns[data.correct].classList.add('correct');
            speak("Nie. To by≈Ço: " + data.a[data.correct]);
        }
        document.getElementById('next-btn').classList.remove('hidden');
    }

    function nextQuestion() {
        currentQ++;
        loadQuestion();
    }
</script>

</body>
</html>
