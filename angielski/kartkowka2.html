<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angielski: Kartk√≥wka</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #e8f5e9; /* Jasny zielony */
            margin: 0;
            padding: 10px;
            text-align: center;
            color: #1b5e20;
        }
        #container {
            background-color: white;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
            border: 4px solid #2e7d32;
        }
        h1 { margin-bottom: 20px; font-size: 26px; }
        
        .btn-big {
            display: block;
            width: 100%;
            padding: 20px;
            margin: 15px 0;
            border: none;
            border-radius: 20px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            color: white;
            box-shadow: 0 5px 0 rgba(0,0,0,0.2);
        }
        .btn-big:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-start { background-color: #2e7d32; } /* Zielony */
        .btn-opt { background-color: #f1f8e9; color: #1b5e20; font-size: 18px; padding: 15px; box-shadow: 0 4px 0 #c8e6c9;}
        
        .hidden { display: none; }
        .emoji { font-size: 40px; display: block; margin-bottom: 10px;}

        /* Quiz Styles */
        .correct { background-color: #66bb6a !important; color: white !important; }
        .wrong { background-color: #ef5350 !important; color: white !important; }
        #feedback { font-weight: bold; min-height: 30px; margin-top: 10px; font-size: 20px;}
    </style>
</head>
<body>

<div id="container">

    <div id="menu">
        <a href="../index.html" style="position:absolute; top:10px; left:10px; text-decoration:none; font-size:30px;">üè†</a>
        <h1>üá¨üáß English Quiz</h1>
        <p>Szybka powt√≥rka s≈Ç√≥wek.</p>
        <button class="btn-big btn-start" onclick="startQuiz()">START üöÄ</button>
    </div>

    <div id="quiz" class="hidden">
        <div id="q-emoji" class="emoji"></div>
        <h2 id="q-text">...</h2>
        <div id="options"></div>
        <div id="feedback"></div>
        <button id="next-btn" class="btn-big btn-start hidden" onclick="nextQuestion()">NEXT ‚û°</button>
    </div>

    <div id="end" class="hidden">
        <h1>Good Job! üéâ</h1>
        <button class="btn-big btn-start" onclick="location.reload()">AGAIN ‚Ü∫</button>
        <br>
        <a href="../index.html" class="btn-big" style="background-color: #555;">MENU</a>
    </div>

</div>

<script>
    // --- BAZA S≈Å√ìWEK (Edytuj tutaj) ---
    // q = Pytanie (PL), a = Odpowiedzi (EN), correct = kt√≥ra dobra (0, 1, lub 2)
    const quizData = [
        {
            q: "Jak powiesz: Sklep?",
            emoji: "üè™",
            a: ["Shop", "School", "Home"],
            correct: 0
        },
        {
            q: "Jak powiesz: Kupowaƒá?",
            emoji: "üõí",
            a: ["Sell", "Buy", "Fly"],
            correct: 1
        },
        {
            q: "Jak powiesz: PieniƒÖdze?",
            emoji: "üí∞",
            a: ["Monkey", "Monday", "Money"],
            correct: 2
        },
        {
            q: "Jak zapytasz: Ile to kosztuje?",
            emoji: "üè∑Ô∏è",
            a: ["How are you?", "How much is it?", "What is this?"],
            correct: 1
        },
        {
            q: "Jak powiesz: Drogi (cena)?",
            emoji: "üíé",
            a: ["Cheap", "Expensive", "Big"],
            correct: 1
        }
    ];

    // --- SILNIK ---
    let currentQ = 0;

    function speak(text, lang) {
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = lang;
        window.speechSynthesis.speak(u);
    }

    function startQuiz() {
        document.getElementById('menu').classList.add('hidden');
        document.getElementById('quiz').classList.remove('hidden');
        currentQ = 0;
        loadQuestion();
    }

    function loadQuestion() {
        if (currentQ >= quizData.length) {
            document.getElementById('quiz').classList.add('hidden');
            document.getElementById('end').classList.remove('hidden');
            return;
        }

        const data = quizData[currentQ];
        document.getElementById('q-text').innerText = data.q;
        document.getElementById('q-emoji').innerText = data.emoji;
        document.getElementById('feedback').innerText = "";
        document.getElementById('next-btn').classList.add('hidden');
        
        // Czytaj pytanie po polsku
        speak(data.q, 'pl-PL');

        const optsDiv = document.getElementById('options');
        optsDiv.innerHTML = "";

        data.a.forEach((ans, index) => {
            const btn = document.createElement('button');
            btn.className = 'btn-big btn-opt';
            btn.innerText = ans;
            btn.onclick = () => checkAnswer(index, btn, ans);
            optsDiv.appendChild(btn);
        });
    }

    function checkAnswer(idx, btn, text) {
        const data = quizData[currentQ];
        const allBtns = document.querySelectorAll('.btn-opt');
        allBtns.forEach(b => b.onclick = null);

        if (idx === data.correct) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = "YES! üëç";
            // Czytaj poprawnƒÖ odpowied≈∫ po angielsku
            speak(text, 'en-GB');
        } else {
            btn.classList.add('wrong');
            allBtns[data.correct].classList.add('correct');
            document.getElementById('feedback').innerText = "No... " + data.a[data.correct];
            speak(data.a[data.correct], 'en-GB');
        }
        document.getElementById('next-btn').classList.remove('hidden');
    }

    function nextQuestion() {
        currentQ++;
        loadQuestion();
    }
</script>

</body>
</html>
