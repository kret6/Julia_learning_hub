<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matma: Algebra</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #e8eaf6; /* Jasny indygo/matematyczny */
            margin: 0;
            padding: 10px;
            text-align: center;
            color: #1a237e;
        }
        #container {
            background-color: white;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
            border: 4px solid #3f51b5;
        }
        h1 { margin-bottom: 20px; font-size: 26px; }
        
        .btn-big {
            display: block;
            width: 100%;
            padding: 20px;
            margin: 15px 0;
            border: none;
            border-radius: 20px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            color: white;
            box-shadow: 0 5px 0 rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        .btn-big:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-learn { background-color: #3f51b5; } /* Indygo */
        .btn-trap { background-color: #d81b60; } /* R√≥≈ºowy - Pu≈Çapka */
        
        .btn-quiz { background-color: #009688; margin-top: 30px;} /* Morski */
        .btn-opt { background-color: #e8eaf6; color: #1a237e; font-size: 24px; padding: 20px; box-shadow: 0 4px 0 #c5cae9; font-family: monospace;}
        
        .hidden { display: none; }
        .emoji { font-size: 35px; }
        .math-symbol { font-size: 40px; font-weight: bold; margin-right: 15px;}

        /* Quiz Styles */
        .correct { background-color: #66bb6a !important; color: white !important; }
        .wrong { background-color: #ef5350 !important; color: white !important; }
        #feedback { font-weight: bold; min-height: 30px; margin-top: 10px; font-size: 20px;}
    </style>
</head>
<body>

<div id="container">

    <div id="menu">
        <a href="../index.html" style="position:absolute; top:10px; left:10px; text-decoration:none; font-size:30px;">üè†</a>
        <h1>üßÆ Algebra: Jƒôzyk Szyfr√≥w</h1>
        <p>Zamieniamy s≈Çowa na matematyczne znaczki.</p>

        <button class="btn-big btn-learn" onclick="playLesson(1)">
            <span class="emoji">‚ûï</span> 1. Suma (Dodawanie)
        </button>

        <button class="btn-big btn-learn" onclick="playLesson(2)">
            <span class="emoji">‚ûñ</span> 2. R√≥≈ºnica (Odejmowanie)
        </button>

        <button class="btn-big btn-learn" onclick="playLesson(3)">
            <span class="emoji">‚úñÔ∏è</span> 3. Iloczyn i Iloraz
        </button>
        
        <button class="btn-big btn-trap" onclick="playLesson(4)">
            <span class="emoji">‚ö†Ô∏è</span> 4. Pu≈Çapka: "O" czy "Razy"?
        </button>

        <button class="btn-big btn-quiz" onclick="startQuiz()">
            <span class="emoji">üïµÔ∏è‚Äç‚ôÄÔ∏è</span> Z≈Çam Szyfr (Quiz)
        </button>
    </div>

    <div id="quiz" class="hidden">
        <h2 id="q-text">Jak zapiszesz...</h2>
        <div id="options"></div>
        <div id="feedback"></div>
        <button id="next-btn" class="btn-big btn-quiz hidden" onclick="nextQuestion()">Dalej ‚û°</button>
    </div>

    <div id="end" class="hidden">
        <h1>Szyfr z≈Çamany! üîì</h1>
        <p>Teraz rozumiesz jƒôzyk matematyki.</p>
        <button class="btn-big btn-quiz" onclick="location.reload()">Jeszcze raz?</button>
        <br>
        <a href="../index.html" class="btn-big" style="background-color: #3f51b5;">Wr√≥ƒá do bazy</a>
    </div>

</div>

<script>
    // --- DANE LEKCJI (AUDIO) ---
    const lessons = {
        1: "Suma to wynik dodawania. Gdy s≈Çyszysz SUMA, piszesz plus. Suma liczb x i piƒôƒá, to po prostu x dodaƒá piƒôƒá. Zapamiƒôtaj: Suma r√≥wna siƒô Plus.",
        2: "R√≥≈ºnica to odejmowanie. Gdy s≈Çyszysz R√ì≈ªNICA, piszesz minus. R√≥≈ºnica liczb a i b, to a odjƒÖƒá b. Uwaga! Wa≈ºna jest kolejno≈õƒá. Liczba o 5 mniejsza od x, to x odjƒÖƒá piƒôƒá.",
        3: "Iloczyn to mno≈ºenie, czyli razy. Iloczyn a i b to a razy b. Czƒôsto w algebrze nie piszemy kropki. Trzy a to to samo co trzy razy a. A Iloraz? To dzielenie. Zapisujemy je zazwyczaj jako u≈Çamek.",
        4: "To najwa≈ºniejsza lekcja! S≈Çuchaj uwa≈ºnie. O trzy WIƒòCEJ to dodawanie: x plus 3. Ale trzy RAZY wiƒôcej to mno≈ºenie: 3 razy x. Pamiƒôtaj: literka O znaczy dodaƒá lub odjƒÖƒá. S≈Çowo RAZY znaczy mno≈ºyƒá lub dzieliƒá."
    };

    // --- DANE QUIZU ---
    const quizData = [
        {
            q: "Suma liczb a i b",
            a: ["a + b", "a - b", "a ‚Ä¢ b"],
            correct: 0,
            feedback: "Tak! Suma to dodawanie (+)."
        },
        {
            q: "R√≥≈ºnica liczb x i 3",
            a: ["x : 3", "x - 3", "3 - x"],
            correct: 1,
            feedback: "Brawo. R√≥≈ºnica to minus."
        },
        {
            q: "Liczba 3 RAZY wiƒôksza od x",
            a: ["x + 3", "3x", "x - 3"],
            correct: 1,
            feedback: "Dok≈Çadnie. Razy to mno≈ºenie (3x)."
        },
        {
            q: "Liczba O 3 wiƒôksza od x",
            a: ["x + 3", "3x", "x : 3"],
            correct: 0,
            feedback: "Super! 'O' znaczy dodaƒá (x+3)."
        },
        {
            q: "Liczba o 5 MNIEJSZA od k",
            a: ["5 - k", "k - 5", "k : 5"],
            correct: 1,
            feedback: "Tak. Od 'k' zabieramy 5."
        },
        {
            q: "Po≈Çowa liczby x",
            a: ["2x", "x + 2", "x : 2"],
            correct: 2,
            feedback: "≈öwietnie. Po≈Çowa to dzielenie przez 2."
        }
    ];

    // --- LOGIKA ---
    let currentQ = 0;

    function speak(text) {
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'pl-PL';
        u.rate = 0.95; 
        window.speechSynthesis.speak(u);
    }

    function playLesson(num) {
        speak(lessons[num]);
    }

    function startQuiz() {
        document.getElementById('menu').classList.add('hidden');
        document.getElementById('quiz').classList.remove('hidden');
        currentQ = 0;
        loadQuestion();
    }

    function loadQuestion() {
        if (currentQ >= quizData.length) {
            document.getElementById('quiz').classList.add('hidden');
            document.getElementById('end').classList.remove('hidden');
            speak("Koniec treningu. Szyfr opanowany.");
            return;
        }

        const data = quizData[currentQ];
        document.getElementById('q-text').innerText = data.q;
        document.getElementById('feedback').innerText = "";
        document.getElementById('next-btn').classList.add('hidden');
        
        speak("Jak zapiszesz: " + data.q);

        const optsDiv = document.getElementById('options');
        optsDiv.innerHTML = "";

        data.a.forEach((ans, index) => {
            const btn = document.createElement('button');
            btn.className = 'btn-big btn-opt';
            btn.innerText = ans;
            btn.onclick = () => checkAnswer(index, btn);
            optsDiv.appendChild(btn);
        });
    }

    function checkAnswer(idx, btn) {
        const data = quizData[currentQ];
        const allBtns = document.querySelectorAll('.btn-opt');
        allBtns.forEach(b => b.onclick = null);

        if (idx === data.correct) {
            btn.classList.add('correct');
            document.getElementById('feedback').innerText = data.feedback;
            speak("Dobrze! " + data.feedback);
        } else {
            btn.classList.add('wrong');
            allBtns[data.correct].classList.add('correct');
            speak("Nie. To bƒôdzie: " + data.a[data.correct]);
        }
        document.getElementById('next-btn').classList.remove('hidden');
    }

    function nextQuestion() {
        currentQ++;
        loadQuestion();
    }
</script>

</body>
</html>
